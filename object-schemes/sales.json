{"title":"Продажи","table":"sales","is_trash":true,"properties":[{"title":"Посещение","article":"visit_id","data_type":"integer","field_type":"list","is_default_in_list":false,"is_unique":false,"is_autofill":true,"is_in_search":true,"use_in_commands":["update","add","get"],"require_in_commands":["add"]},{"title":"Тип операции","article":"pay_type","data_type":"string","field_type":"list","is_default_in_list":false,"is_unique":false,"is_autofill":true,"use_in_commands":["add","update","get"],"require_in_commands":["add"],"custom_list":[{"title":"Продажа","value":"sell"},{"title":"Возврат","value":"sellReturn"},{"title":"Пополнение депозита","value":"deposit"}]},{"title":"Оплата бонусами","article":"bonus_sum","data_type":"float","field_type":"price","is_default_in_list":false,"is_unique":false,"is_autofill":true,"use_in_commands":["add","update"]},{"title":"Оплата депозитом","article":"deposit_sum","data_type":"float","field_type":"price","is_default_in_list":false,"is_unique":false,"is_autofill":true,"use_in_commands":["add","update"]},{"title":"Оплата картой","article":"card_sum","data_type":"float","field_type":"price","is_default_in_list":false,"is_unique":false,"is_autofill":true,"use_in_commands":["add","update"]},{"title":"Оплата наличными","article":"cash_sum","data_type":"float","field_type":"price","is_default_in_list":false,"is_unique":false,"is_autofill":true,"use_in_commands":["add","update"],"require_in_commands":[]},{"title":"Статус оплаты","article":"status","data_type":"string","field_type":"string","is_default_in_list":true,"is_unique":false,"is_autofill":false,"use_in_commands":["add","update"],"require_in_commands":["add"],"custom_list":[{"title":"В процессе","value":"waiting"},{"title":"Успешно","value":"done"},{"title":"Ошибка","value":"error"}]},{"title":"Текст ошибки","article":"error","data_type":"string","field_type":"textarea","is_default_in_list":false,"is_unique":false,"is_autofill":false,"use_in_commands":["add","update"]},{"title":"Код возврата по карте","article":"terminal_code","data_type":"string","field_type":"string","is_default_in_list":false,"is_unique":false,"is_autofill":false,"use_in_commands":["update"]},{"title":"Дата и время операции","article":"created_at","data_type":"datetime","field_type":"datetime","is_default_in_list":true,"is_unique":false,"is_autofill":false,"use_in_commands":["add"]},{"title":"Филиал","article":"store_id","data_type":"integer","field_type":"list","is_default_in_list":false,"is_unique":false,"is_autofill":true,"list_donor":{"table":"stores","properties_title":"title"},"use_in_commands":["add","update"],"require_in_commands":["add"]},{"title":"Хэш объединения","article":"hash","data_type":"string","field_type":"string","is_default_in_list":false,"is_unique":true,"is_autofill":false,"use_in_commands":["update"]},{"title":"Клиенты","article":"clients","data_type":"array","field_type":"list","is_default_in_list":true,"is_unique":false,"is_autofill":true,"join":{"connection_table":"visits_clients","donor_table":"clients","property_article":"last_name","insert_property":"visit_id","filter_property":"client_id"},"use_in_commands":["get"]},{"title":"Сотрудник","article":"employee","data_type":"integer","field_type":"list","is_default_in_list":true,"is_unique":false,"is_autofill":true,"list_donor":{"table":"users","properties_title":"last_name"},"use_in_commands":["add","update"],"require_in_commands":["add"]},{"title":"Услуга / Товар","article":"pay_object","data_type":"array","field_type":"list","is_default_in_list":true,"is_unique":false,"is_autofill":false,"join":{"connection_table":"visits_services","donor_table":"services","insert_property":"visit_id","filter_property":"service_id","property_article":"title"},"use_in_commands":["get"]},{"title":"Способ оплаты","article":"pay_method","data_type":"array","field_type":"string","is_default_in_list":true,"is_unique":false,"is_autofill":false,"use_in_commands":["get"]},{"title":"Итого","article":"summary","data_type":"float","field_type":"price","is_default_in_list":true,"is_unique":false,"is_autofill":false,"list_donor":{"table":"visits","properties_title":"price"}}]}