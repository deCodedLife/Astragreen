{
  "required_modules": [],
  "required_permissions": [],
  "structure": [{
    "title": "Шапка",
    "type": "header",
    "size": 4,
    "settings": {
      "description": "Записи к врачам - Редактирование",
      "title": ["Запись № ", ":id"]
    },
    "components": []
  }, {
    "title": "Табы",
    "type": "tabs",
    "size": 4,
    "settings": [{
      "title": "Основная информация",
      "body": [{
        "title": "Форма клиента",
        "type": "form",
        "size": 4,
        "settings": {
          "object": "clients",
          "command": "get",
          "areas": [{
            "size": 2,
            "blocks": [{
              "title": "Основное",
              "fields": ["last_name", "first_name", "patronymic", "gender", "birthday"]
            }, {
              "title": "Контакты",
              "fields": ["phone", "second_phone", "email", "address", "client_groups"]
            }]
          }, {
            "size": 2,
            "blocks": [{
              "title": "Документы",
              "fields": ["passport_series", "passport_number", "passport_issued", "is_representative"]
            }, {
              "title": "Законный представитель",
              "fields": ["present_last_name", "present_first_name", "present_patronymic", "present_passport_series", "present_passport_number", "present_passport_issued"]
            }]
          }, {
            "size": 4,
            "blocks": [{
              "title": "",
              "fields": ["comment"]
            }]
          }]
        },
        "components": {}
      }]
    },{
      "title": "Посещение",
      "body": [{
        "title": "Форма",
        "type": "form",
        "size": 4,
        "settings": {
          "object": "visits",
          "command": "update",
          "areas": [{
            "size": 2,
            "blocks": [{
              "title": "",
              "fields": ["start_at", "end_at", "status"]
            }, {
              "title": "",
              "fields": ["users_id", "clients_id", "services_id"]
            }]
          }, {
            "size": 2,
            "blocks": [{
              "title": "",
              "fields": ["store_id", "cabinet_id"]
            }, {
              "title": "",
              "fields": ["discount_type", "discount_value", "price"]
            }]
          }]
        },
        "components": {
          "buttons": [{
            "type": "print",
            "required_permissions": [],
            "settings": {
              "title": "Печать",
              "background": "dark",
              "data": {
                "document_article": "services_contract",
                "is_edit": true,
                "row_id": ":id"
              }
            }
          },
            {
              "type": "print",
              "required_permissions": [],
              "settings": {
                "title": "Печать документов",
                "background": "dark",
                "data": {
                  "is_edit": true,
                  "row_id": ":id"
                }
              }
            },
            {
            "type": "script",
            "required_permissions": ["manager_schedule"],
            "settings": {
              "title": "Отменить",
              "background": "dark",
              "object": "visits",
              "command": "cancel",
              "data": {
                "id": ":id"
              }
            }
          }, {
            "type": "script",
            "required_permissions": ["manager_schedule"],
            "settings": {
              "title": "Завершить",
              "background": "dark",
              "object": "visits",
              "command": "check-success",
              "data": {
                "id": ":id"
              }
            }
          }, {
            "type": "submit",
            "required_permissions": ["manager_schedule"],
            "settings": {
              "title": "Сохранить",
              "background": "dark"
            }
          }]
        }
      }]
    }, {
      "title": "Оплата",
      "body": [{
        "title": "Форма оплаты",
        "type": "form",
        "size": 4,
        "settings": {
          "object": "sales",
          "command": "add",
          "areas": [{
            "size": 2,
            "blocks": [{
              "title": "",
              "fields": ["visits_ids", "pay_object", "pay_method", "cash_sum", "card_sum", "summary"]
            }]
          }, {
            "size": 2,
            "blocks": [{
              "title": "",
              "fields": ["store_id", "bonus_sum", "deposit_sum", "online_receipt", "is_combined", "client_id", "pay_type"]
            }]
          }]
        },
        "components": {
          "buttons": [{
            "type": "submit",
            "settings": {
              "title": "Оплатить",
              "background": "dark",
              "href": "dashboard"
            }
          }]
        }
      }]
    }, {
      "title": "История посещений",
      "body": [{
        "title": "История посещений",
        "type": "list",
        "size": 4,
        "settings": {
          "object": "visits",
          "filters": [{
            "property": "clients_id",
            "value": ":clients_id"
          }]
        },
        "components": []
      }]
    }, {
      "title": "Статистика",
      "body": [{
        "title": "Статистика клиентов",
        "type": "analytic_widgets",
        "size": 4,
        "settings": {
          "widgets_group": "client_statistic",
          "filters": [{
            "property": "client_id",
            "value": ":clients_id"
          }]
        },
        "components": []
      }]
    }, {
      "title": "Логи",
      "body": [{
        "title": "Логи",
        "type": "logs",
        "size": 4,
        "settings": {
          "object": "logs",
          "filters": [{
            "property": "clients_id",
            "value": ":clients_id"
          }]
        },
        "components": {
          "filters": [{
            "title": "Дата",
            "type": "date",
            "required_permissions": [],
            "required_modules": [],
            "settings": {
              "recipient_property": "created_at"
            }
          }]
        }
      }]
    }]
  }]
}